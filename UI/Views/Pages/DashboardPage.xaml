<?xml version="1.0" encoding="utf-8" ?>
<Page x:Class="NavigationIntegrationSystem.UI.Views.Pages.DashboardPage" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d">

    <Grid Padding="16" RowDefinitions="Auto,*">

        <!--  Header  -->
        <Grid Margin="0,0,0,12" ColumnDefinitions="*,Auto">
            <StackPanel Spacing="2">
                <TextBlock FontSize="28" FontWeight="SemiBold" Text="Fusion" />
                <TextBlock Opacity="0.7" Text="Select devices, map output fields to sources, and view fused output" />
            </StackPanel>

            <StackPanel Grid.Column="1" VerticalAlignment="Top" Orientation="Horizontal" Spacing="8">
                <Button>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <SymbolIcon Symbol="Refresh" />
                        <TextBlock Text="Refresh" />
                    </StackPanel>
                </Button>

                <Button Style="{ThemeResource AccentButtonStyle}">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <SymbolIcon Symbol="Accept" />
                        <TextBlock Text="Apply" />
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>

        <!--  Work area  -->
        <Grid Grid.Row="1" ColumnDefinitions="380,*,520" ColumnSpacing="12">

            <!--  Left: Inputs  -->
            <ScrollViewer HorizontalScrollMode="Disabled">
                <StackPanel Spacing="12">

                    <Border Padding="16" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1" CornerRadius="12">
                        <StackPanel Spacing="2">
                            <TextBlock FontSize="16" FontWeight="SemiBold" Text="Inputs" />
                            <TextBlock Opacity="0.7" Text="Pick up to 3 device types and observe their live values" />
                        </StackPanel>
                    </Border>

                    <!--  Device A  -->
                    <Border Padding="16" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1" CornerRadius="12">
                        <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto,Auto">
                            <TextBlock FontSize="16" FontWeight="SemiBold" Text="Device A" />
                            <TextBlock Grid.Column="1" Opacity="0.7" Text="Type" />

                            <ComboBox Grid.Row="1" Grid.ColumnSpan="2" Margin="0,10,0,0" PlaceholderText="Select device">
                                <ComboBoxItem Content="VN310" />
                                <ComboBoxItem Content="Tmaps100X" />
                            </ComboBox>

                            <Grid Grid.Row="2" Grid.ColumnSpan="2" Margin="0,12,0,0" ColumnDefinitions="*,*" ColumnSpacing="10"
                                  RowSpacing="10">
                                <Border Padding="12" Background="{ThemeResource LayerFillColorDefaultBrush}" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1" CornerRadius="10">
                                    <StackPanel Spacing="2">
                                        <TextBlock Opacity="0.7" Text="Yaw / Azimuth" />
                                        <TextBlock FontSize="16" FontWeight="SemiBold" Text="— deg" />
                                    </StackPanel>
                                </Border>

                                <Border Grid.Column="1" Padding="12"
                                        Background="{ThemeResource LayerFillColorDefaultBrush}"
                                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                        BorderThickness="1" CornerRadius="10">
                                    <StackPanel Spacing="2">
                                        <TextBlock Opacity="0.7" Text="Status" />
                                        <TextBlock FontSize="16" FontWeight="SemiBold" Text="—" />
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Grid>
                    </Border>

                    <!--  Device B  -->
                    <Border Padding="16" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1" CornerRadius="12">
                        <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto,Auto">
                            <TextBlock FontSize="16" FontWeight="SemiBold" Text="Device B" />
                            <TextBlock Grid.Column="1" Opacity="0.7" Text="Type" />

                            <ComboBox Grid.Row="1" Grid.ColumnSpan="2" Margin="0,10,0,0" PlaceholderText="Select device">
                                <ComboBoxItem Content="VN310" />
                                <ComboBoxItem Content="Tmaps100X" />
                            </ComboBox>

                            <TextBlock Grid.Row="2" Grid.ColumnSpan="2" Margin="0,12,0,0" Opacity="0.7" Text="Live values will appear here once selected" />
                        </Grid>
                    </Border>

                    <!--  Device C  -->
                    <Border Padding="16" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1" CornerRadius="12">
                        <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto,Auto">
                            <TextBlock FontSize="16" FontWeight="SemiBold" Text="Device C" />
                            <TextBlock Grid.Column="1" Opacity="0.7" Text="Type" />

                            <ComboBox Grid.Row="1" Grid.ColumnSpan="2" Margin="0,10,0,0" PlaceholderText="Select device">
                                <ComboBoxItem Content="VN310" />
                                <ComboBoxItem Content="Tmaps100X" />
                            </ComboBox>

                            <TextBlock Grid.Row="2" Grid.ColumnSpan="2" Margin="0,12,0,0" Opacity="0.7" Text="Live values will appear here once selected" />
                        </Grid>
                    </Border>

                </StackPanel>
            </ScrollViewer>

            <!--  Middle: Mapping (ListView rows -> no overlap)  -->
            <Border Grid.Column="1" Padding="16"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" CornerRadius="12">
                <Grid RowDefinitions="Auto,Auto,*">

                    <StackPanel Spacing="2">
                        <TextBlock FontSize="16" FontWeight="SemiBold" Text="Fusion mapping" />
                        <TextBlock Opacity="0.7" Text="Choose the source slot for each output field" />
                    </StackPanel>

                    <Border Grid.Row="1" Height="1" Margin="0,12,0,12" Background="{ThemeResource CardStrokeColorDefaultBrush}" />

                    <Grid Grid.Row="2" RowDefinitions="Auto,*" RowSpacing="10">

                        <!--  Header row  -->
                        <Grid ColumnDefinitions="1.2*,0.6*,1.1*,0.8*" ColumnSpacing="12">
                            <TextBlock Opacity="0.7" Text="Field" />
                            <TextBlock Opacity="0.7" Text="Unit" />
                            <TextBlock Opacity="0.7" Text="Source" />
                            <TextBlock Opacity="0.7" Text="Current" />
                        </Grid>

                        <!--  Rows  -->
                        <ListView Grid.Row="1" SelectionMode="None">
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="Padding" Value="0" />
                                    <Setter Property="Margin" Value="0,0,0,8" />
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.Items>
                                <x:String>Azimuth|deg</x:String>
                                <x:String>Elevation|deg</x:String>
                                <x:String>Latitude|deg</x:String>
                                <x:String>Longitude|deg</x:String>
                                <x:String>Altitude|m</x:String>
                                <x:String>Pitch|deg</x:String>
                                <x:String>Roll|deg</x:String>
                                <x:String>Speed|m/s</x:String>
                                <x:String>INS Status|</x:String>
                                <x:String>GPS Status|</x:String>
                            </ListView.Items>

                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="10" Background="{ThemeResource LayerFillColorDefaultBrush}" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1" CornerRadius="10">
                                        <Grid MinHeight="42" ColumnDefinitions="1.2*,0.6*,1.1*,0.8*" ColumnSpacing="12">
                                            <TextBlock VerticalAlignment="Center" FontWeight="SemiBold" Text="{Binding}" />
                                            <!--  We'll replace these bindings when ViewModel exists  -->
                                            <TextBlock Grid.Column="1" VerticalAlignment="Center" Opacity="0.7" Text="—" />
                                            <ComboBox Grid.Column="2" VerticalAlignment="Center" PlaceholderText="Select">
                                                <ComboBoxItem Content="A" />
                                                <ComboBoxItem Content="B" />
                                                <ComboBoxItem Content="C" />
                                            </ComboBox>
                                            <TextBlock Grid.Column="3" VerticalAlignment="Center" Opacity="0.7" Text="—" />
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>

                    </Grid>
                </Grid>
            </Border>

            <!--  Right: Output (ListView rows -> no overlap)  -->
            <Border Grid.Column="2" Padding="16"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1" CornerRadius="12">
                <Grid RowDefinitions="Auto,Auto,*">

                    <StackPanel Spacing="2">
                        <TextBlock FontSize="16" FontWeight="SemiBold" Text="Fused output" />
                        <TextBlock Opacity="0.7" Text="Final values with explicit source per field" />
                    </StackPanel>

                    <Border Grid.Row="1" Height="1" Margin="0,12,0,12" Background="{ThemeResource CardStrokeColorDefaultBrush}" />

                    <Grid Grid.Row="2" RowDefinitions="Auto,*" RowSpacing="10">

                        <Grid ColumnDefinitions="1.2*,1*,1*" ColumnSpacing="12">
                            <TextBlock Opacity="0.7" Text="Field" />
                            <TextBlock Opacity="0.7" Text="Value" />
                            <TextBlock Opacity="0.7" Text="Source" />
                        </Grid>

                        <ListView Grid.Row="1" SelectionMode="None">
                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="Padding" Value="0" />
                                    <Setter Property="Margin" Value="0,0,0,8" />
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.Items>
                                <x:String>Azimuth</x:String>
                                <x:String>Elevation</x:String>
                                <x:String>Latitude</x:String>
                                <x:String>Longitude</x:String>
                                <x:String>Altitude</x:String>
                                <x:String>Pitch</x:String>
                                <x:String>Roll</x:String>
                                <x:String>Speed</x:String>
                                <x:String>INS Status</x:String>
                                <x:String>GPS Status</x:String>
                            </ListView.Items>

                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="10" Background="{ThemeResource LayerFillColorDefaultBrush}" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1" CornerRadius="10">
                                        <Grid MinHeight="42" ColumnDefinitions="1.2*,1*,1*" ColumnSpacing="12">
                                            <TextBlock VerticalAlignment="Center" FontWeight="SemiBold" Text="{Binding}" />
                                            <TextBlock Grid.Column="1" VerticalAlignment="Center" FontWeight="SemiBold" Text="—" />
                                            <TextBlock Grid.Column="2" VerticalAlignment="Center" Opacity="0.7" Text="—" />
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>

                    </Grid>
                </Grid>
            </Border>

        </Grid>
    </Grid>
</Page>
