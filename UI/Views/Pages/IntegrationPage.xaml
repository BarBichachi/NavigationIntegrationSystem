<?xml version="1.0" encoding="utf-8" ?>
<Page x:Class="NavigationIntegrationSystem.UI.Views.Pages.IntegrationPage" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:vm="using:NavigationIntegrationSystem.UI.ViewModels.Integration" mc:Ignorable="d">

    <Grid Padding="16" RowDefinitions="Auto,*">

        <!--  Header  -->
        <Grid Margin="0,0,0,12" ColumnDefinitions="*,Auto">
            <StackPanel Spacing="2">
                <TextBlock FontSize="28" FontWeight="SemiBold" Text="Integration" />
                <TextBlock Opacity="0.7" Text="Pick the source per field and immediately see the chosen output value" />
            </StackPanel>
        </Grid>

        <!--  Work area  -->
        <Border Grid.Row="1" Padding="16"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1" CornerRadius="12">
            <Grid RowDefinitions="Auto,*" RowSpacing="10">

                <Grid Padding="8,0,8,0" ColumnDefinitions="180,60,110,*" ColumnSpacing="8">
                    <TextBlock Opacity="0.7" Text="Field" />
                    <TextBlock Grid.Column="1" Opacity="0.7" Text="Unit" />
                    <TextBlock Grid.Column="2" Opacity="0.7" Text="Value" />
                    <TextBlock Grid.Column="3" Opacity="0.7" Text="Source" />
                </Grid>

                <ListView Grid.Row="1" Padding="0" ItemsSource="{x:Bind ViewModel.Rows, Mode=OneWay}" SelectionMode="None">
                    <ListView.ItemTemplate>
                        <DataTemplate x:DataType="vm:IntegrationFieldRowViewModel">
                            <Border Margin="0,0,0,8" Padding="8"
                                    Background="{ThemeResource LayerFillColorDefaultBrush}"
                                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                    BorderThickness="1" CornerRadius="10">
                                <Grid MinHeight="48" ColumnDefinitions="180,60,110,*" ColumnSpacing="8">
                                    <TextBlock VerticalAlignment="Center" FontWeight="SemiBold" Text="{x:Bind FieldName}" />
                                    <TextBlock Grid.Column="1" VerticalAlignment="Center" Opacity="0.7" Text="{x:Bind Unit}" />
                                    <TextBlock Grid.Column="2" VerticalAlignment="Center" FontWeight="SemiBold" Text="{x:Bind SelectedValueText, Mode=OneWay}" />

                                    <ItemsControl Grid.Column="3" ItemsSource="{x:Bind Sources, Mode=OneWay}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel Orientation="Horizontal" />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate x:DataType="vm:SourceCandidateViewModel">
                                                <RadioButton Margin="0,0,14,0" Content="{x:Bind DisplayText, Mode=OneWay}" IsChecked="{x:Bind IsSelected, Mode=TwoWay}" />
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>

            </Grid>
        </Border>
    </Grid>
</Page>
